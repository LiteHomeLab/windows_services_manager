<Window x:Class="WinServiceManager.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WinServiceManager - WindowsæœåŠ¡ç®¡ç†å™¨"
        Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        Loaded="Window_Loaded">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- å·¥å…·æ  -->
        <ToolBar Grid.Row="0" Height="40">
            <Button Command="{Binding CreateServiceCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âž•" Margin="0,0,5,0"/>
                    <TextBlock Text="æ–°å»ºæœåŠ¡"/>
                </StackPanel>
            </Button>
            <Button Command="{Binding EditServiceCommand}"
                    CommandParameter="{Binding SelectedService}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âœï¸" Margin="0,0,5,0"/>
                    <TextBlock Text="ç¼–è¾‘æœåŠ¡"/>
                </StackPanel>
            </Button>
            <Separator/>
            <Button Command="{Binding SelectedService.StartCommand}"
                    CommandParameter="{Binding SelectedService}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="â–¶ï¸" Margin="0,0,5,0"/>
                    <TextBlock Text="å¯åŠ¨"/>
                </StackPanel>
            </Button>
            <Button Command="{Binding SelectedService.StopCommand}"
                    CommandParameter="{Binding SelectedService}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="â¹ï¸" Margin="0,0,5,0"/>
                    <TextBlock Text="åœæ­¢"/>
                </StackPanel>
            </Button>
            <Button Command="{Binding SelectedService.RestartCommand}"
                    CommandParameter="{Binding SelectedService}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ðŸ”„" Margin="0,0,5,0"/>
                    <TextBlock Text="é‡å¯"/>
                </StackPanel>
            </Button>
            <Separator/>
            <Button Command="{Binding SelectedService.UninstallCommand}"
                    CommandParameter="{Binding SelectedService}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ðŸ—‘ï¸" Margin="0,0,5,0"/>
                    <TextBlock Text="å¸è½½"/>
                </StackPanel>
            </Button>
            <Separator/>
            <Button Command="{Binding RefreshServicesCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ðŸ”„" Margin="0,0,5,0"/>
                    <TextBlock Text="åˆ·æ–°"/>
                </StackPanel>
            </Button>
            <Button Command="{Binding ViewLogsCommand}"
                    CommandParameter="{Binding SelectedService}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="ðŸ“„" Margin="0,0,5,0"/>
                    <TextBlock Text="æŸ¥çœ‹æ—¥å¿—"/>
                </StackPanel>
            </Button>
            <Separator/>
            <Button Command="{Binding OpenSettingsCommand}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âš™ï¸" Margin="0,0,5,0"/>
                    <TextBlock Text="è®¾ç½®"/>
                </StackPanel>
            </Button>
        </ToolBar>

        <!-- ä¸»å†…å®¹åŒº -->
        <Grid Grid.Row="1">
            <ListView ItemsSource="{Binding Services}"
                      SelectedItem="{Binding SelectedService}"
                      SelectionMode="Single">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="æœåŠ¡åç§°" DisplayMemberBinding="{Binding DisplayName}" Width="180"/>
                        <GridViewColumn Header="çŠ¶æ€" DisplayMemberBinding="{Binding Status}" Width="90"/>
                        <GridViewColumn Header="ä¾èµ–" DisplayMemberBinding="{Binding DependenciesDisplay}" Width="80"/>
                        <GridViewColumn Header="æè¿°" DisplayMemberBinding="{Binding Description}" Width="200"/>
                        <GridViewColumn Header="å¯æ‰§è¡Œæ–‡ä»¶" DisplayMemberBinding="{Binding ExecutablePath}" Width="180"/>
                        <GridViewColumn Header="åˆ›å»ºæ—¶é—´" DisplayMemberBinding="{Binding CreatedAt}" Width="130"/>
                    </GridView>
                </ListView.View>
            </ListView>
        </Grid>

        <!-- çŠ¶æ€æ  -->
        <StatusBar Grid.Row="2" Height="25">
            <StatusBarItem>
                <TextBlock Text="{Binding StatusMessage}"/>
            </StatusBarItem>
            <Separator/>
            <StatusBarItem HorizontalAlignment="Right">
                <TextBlock Text="{Binding AllServicesCount, StringFormat='æœåŠ¡æ•°: {0}'}"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>